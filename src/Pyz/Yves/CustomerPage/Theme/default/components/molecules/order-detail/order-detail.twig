{% extends molecule('order-detail', '@SprykerShop:CustomerPage') %}

{% block body %}
    <div class="order-detail-block text-right">
        <a href="{{ url('customer/order') }}" class="button button--hollow button--medium button--expand-mobile spacing-right spacing-bottom spacing-bottom--small">
            {{ 'general.back.button' | trans }}
        </a>

        {% include molecule('return-create-link', 'SalesReturnPage') ignore missing with {
            class: config.jsName ~ '__target-state-toggler button button--medium button--expand-mobile spacing-right spacing-bottom spacing-bottom--small',
            data: {
                orderReference: data.order.orderReference,
            },
        } only %}

        <button class="js-customer-reorder-form__trigger button button--medium button--expand-mobile spacing-bottom spacing-bottom--small" disabled>
            {{ 'customer.order.reorder_selected' | trans }}
        </button>
    </div>

    {% include molecule('order-detail-header', 'CustomerPage') with {
        data: {
            orderReference: data.order.orderReference,
            createdAt: data.order.createdAt,
        },
    } only %}

    {% include molecule('order-detail-table', 'CustomerPage') with {
        data: {
            shipmentGroups: data.shipmentGroups,
            orderShipmentExpenses: data.orderShipmentExpenses,
            currencyIsoCode: data.order.currencyIsoCode,
            order: data.order,
        },
    } only %}

    <div class="order-detail-block">
        <h3 class="title title--secondary-box">{{ 'customer.order.payment' | trans }}</h3>
        <div class="grid grid--justify grid--baseline">
            <div class="col col--sm-12 col--md-5 col--lg-4">
                <h4 class="title title--secondary-small">{{ data.order.payments[0].paymentMethod | trans | capitalize }}</h4>
                {% include molecule('order-payment', 'CustomerPage') with {
                    data: {
                        payments: data.order.payments,
                        currencyIsoCode: data.order.currencyIsoCode,
                    },
                } only %}
            </div>
            <div class="col col--sm-12 col--md-5 col--lg-7">
                <h4 class="title title--secondary-small">{{ 'customer.order.billing_address' | trans }}</h4>
                {% include molecule('display-address') with {
                    class: 'spacing-bottom',
                    data: {
                        address: data.order.billingAddress,
                    },
                } only %}
            </div>
        </div>
    </div>

    <h3 class="title title--secondary-box">{{ 'customer.order.grandTotal' | trans }}</h3>
    {% include molecule('order-summary', 'CustomerPage') with {
        data: {
            order: data.order,
        },
    } only %}

    {% block buttonsStateHandler %}
        {% include molecule('order-buttons-disable-toggler', 'SalesReturnPage') ignore missing with {
            attributes: {
                'trigger-class-name': 'js-customer-reorder-form__selection',
                'target-class-name': config.jsName ~ '__target-state-toggler',
                'is-disabled-when-checked': 'false',
                'disabled-class-name': 'button--disabled',
            },
        } only %}
    {% endblock %}
{% endblock %}
